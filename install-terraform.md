Just use a dev container
Check out this website:
https://hasangural.com/github-codespaces-terraform

**Note:** if you've already used codespaces you will have to rebuild the codespace with the the changes to the container.
On Mac use CMD+SHIFT+9 and then search for Containers: Rebuild Container
